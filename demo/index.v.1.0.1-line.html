<html>

<head>
    <title>Demo of visual</title>
    <meta charset="utf-8" />
    <style>
        #content {
            margin-top: 60px;
        }
    </style>
    <script src="../dist/visual.1.0.1.js"></script>
    <script src="libs/stats.min.js"></script>
</head>

<body>
    <div id="content" style="width:500px; height: 500px; border:1px solid #ccc;"></div>
    <script>
        let dom = document.getElementById('content');
        let v = new Visual(dom, {
            grid: {
                step: 1,
                scale: [1, 1]
            }
        });

        const userSet1 = {
            dragable: true,
            clickable: false,
            bufferSize: 2,
        };

        var line = v.line([
            [85, 86],
            [85, 89],
            [85, 104],
            [139, 85],
            [197, 85],
            [224, 85],
            [10, 10],
            [400, 10],
        ], {
                strokeStyle: '#4df693',
                lineWidth: 10
            }, userSet1);

        line.on('finish', (data) => {
            console.log('click');
            console.log(JSON.stringify(data.object.path));
            line.set('dragable', false)
        })

        line.on('willDeletePoint', obj => {
            console.log(obj);
            // return false;
        })

        const userSet2 = {
            dragable: true,
            mouseOverEventEnable: false,
            clickable: true,
            bufferSize: 15,
        };
        var line2 = v.line([
            [185, 86],
            [185, 89],
            [185, 104],
            [139, 185],
            [197, 185],
            [224, 185],
            [10, 110],
            [400, 110],
        ], {
                strokeStyle: '#4df693',
                lineWidth: 10
            }, userSet2);

        line2.on('finish', (data) => {
            console.log('click');
            console.log(JSON.stringify(data.object.path));
            // line.set('dragable',false)
        })

        line2.on('willDeletePoint', obj => {
            console.log(obj);
            // return false;
        })
    </script>


    <!-- <script>
        var stats = new Stats();
        document.body.appendChild(stats.dom);
        requestAnimationFrame(function loop() {
            stats.update();
            requestAnimationFrame(loop)
        });
    </script> -->
</body>

</html>